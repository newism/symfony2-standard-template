{% block extends %}
{{ "{% extends 'NsmApiBundle::layout.html.twig' %}" }}
{% endblock extends %}

{% block body %}
{{ "{% set entities = pager.getCurrentPageResults %}" }}

{{ "{% block body -%}" }}

    <h1>Activity list</h1>

    {{ "{{ form_start(search_form, {'attr': {'class': 'Form', 'novalidate': 'novalidate'}}) }}" }}
    <table>
        <tbody><td>Needs iteration</td></tbody>
    </table>
    <div class="Form-actions">
        {{ "{{ form_row(search_form.search) }}" }}
    </div>
    {{ "{{ form_end(search_form) }}" }}

    <table>
        <caption>
            {{ "Showing {{ pager.getCurrentPageOffsetStart }} - {{ pager.getCurrentPageOffsetEnd }} of {{ pager.getNbResults }} results" }}
        </caption>

        <thead>
        <tr><th>Needs iteration</th></tr>
        </thead>
        <tbody>
        {{ "{% for entity in entities %}" }}
            <tr>
                <td><a href="{{ "{{ path('activities_read', { 'id': entity.id }) }}" }}">{{ "{{ entity.id }}" }}</a></td>
                <td>{{ "{{ entity.title }}" }}</td>
                <td>{{ "{{ entity.dateRange.start ? entity.dateRange.start|date('r') }}" }}</td>
                <td>{{ "{{ entity.dateRange.end ? entity.dateRange.end|date('r') }}" }}</td>
                <td>
                    <ul>
                        <li>
                            <a href="{{ "{{ path('activities_read', { 'id': entity.id }) }}" }}">show</a>
                        </li>
                        <li>
                            <a href="{{ "{{ path('activities_edit', { 'id': entity.id }) }}" }}">edit</a>
                        </li>
                        <li>
                            <a href="{{ "{{ path('activities_destroy', { 'id': entity.id }) }}" }}">destroy</a>
                        </li>
                    </ul>
                </td>
            </tr>
        {{ "{% endfor %}" }}
        </tbody>
    </table>

    <ul>
        <li>
            <a href="{{ "{{ path('activities_add') }}" }}">
                Create a new entry
            </a>
        </li>
    </ul>
{{ "{% endblock %}" }}
{% endblock %}
